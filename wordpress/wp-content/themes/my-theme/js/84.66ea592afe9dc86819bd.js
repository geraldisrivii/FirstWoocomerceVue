"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[84],{8186:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(6252),r=i(3577);const o={class:"diginity"},a={class:"diginity__title"},n=["innerHTML"],d={props:{title:{type:String},text:{type:String},lineWidth:{type:Number}}},c=(0,i(3744).Z)(d,[["render",function(e,t,i,d,c,l){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",{style:(0,r.j5)({width:i.lineWidth+"%"}),class:"line"},null,4),(0,s._)("p",a,(0,r.zw)(i.title),1),(0,s._)("p",{class:"diginity__text",innerHTML:i.text},null,8,n)])}],["__scopeId","data-v-378ddd5c"]])},7722:(e,t,i)=>{i.d(t,{Z:()=>w});var s=i(6252),r=i(3577);const o=["src"],a={class:"product-description-box"},n={class:"product-description"},d={class:"product-description__title"},c={class:"product-description__price-box"},l={key:0,class:"product-description__sale-price"},p={class:"product-description-rate"},u=["src"],g=["src"],_={mixins:[i(3170).Z],props:{imageSrc:{type:String},title:{type:String},price:{type:String},productId:{type:Number,default:250},sale_price:{type:[Number,null],required:!0}}},w=(0,i(3744).Z)(_,[["render",function(e,t,i,_,w,v){return(0,s.wg)(),(0,s.iD)("button",{onClick:t[0]||(t[0]=t=>e.$router.push({name:"product",params:{id:i.productId}},{absolute:!0})),class:"product"},[(0,s._)("img",{class:"product__image",src:i.imageSrc,alt:"product-image"},null,8,o),(0,s._)("div",a,[(0,s._)("div",n,[(0,s._)("p",d,(0,r.zw)(i.title),1),(0,s._)("div",c,[(0,s._)("p",{class:(0,r.C_)(["product-description__price",{"product-description__price_has-sale":i.sale_price}])},(0,r.zw)(i.price)+" ₽ ",3),i.sale_price?((0,s.wg)(),(0,s.iD)("p",l,(0,r.zw)(i.sale_price)+" ₽ ",1)):(0,s.kq)("v-if",!0)])]),(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.rate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{key:i,src:e.$store.state.app.settings_light_start,alt:""},null,8,u)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.inRate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{key:i,src:e.$store.state.app.settings_dark_start,alt:""},null,8,g)))),128))])])])}],["__scopeId","data-v-35e52518"]])},84:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Me});var s=i(6252);const r={key:0};var o=i(7257),a=i(4906),n=i(3577);const d={class:"first-section"},c={class:"first-section-container container"},l={class:"first-section-left"},p=["src"],u={class:"first-section-description"},g=(e=>((0,s.dD)("data-v-7909c17d"),e=e(),(0,s.Cn)(),e))((()=>(0,s._)("div",{class:"line first-section-description__line"},null,-1))),_={class:"first-section-description__title"},w={class:"first-section-description__rates-brand"},v={class:"product-description-rate"},m=["src"],h=["src"],b={class:"first-section-description__brand"},f={class:"first-section-description__price-box"},k={key:0,class:"first-section-description__sale-price"},S={class:"diginties first-section-description-diginties"};var y=i(8186),D=i(3170);const x={mixins:[D.Z],props:{product:{type:Object,required:!0}},methods:{productAdd(e){return 1==e?this.$store.commit("basket/addBasketELement",{product:this.product,quantity:e}):0==e?this.$store.commit("basket/deleteBasketElement",{product:this.product,quantity:e}):this.$store.commit("basket/updateBasketElement",{product:this.product,quantity:e})}},components:{Diginity:y.Z},mounted(){}};var P=i(3744);const R=(0,P.Z)(x,[["render",function(e,t,i,r,o,a){const y=(0,s.up)("Diginity"),D=(0,s.up)("basket-add-button");return(0,s.wg)(),(0,s.iD)("section",d,[(0,s._)("div",c,[(0,s._)("div",l,[(0,s._)("img",{class:"first-section-left__image",src:i.product.images[0].src,alt:"product-image"},null,8,p)]),(0,s._)("div",u,[g,(0,s._)("p",_,(0,n.zw)(i.product.name),1),(0,s._)("div",w,[(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.rate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{key:i,src:e.$store.state.app.settings_light_start,alt:""},null,8,m)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.inRate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{key:i,src:e.$store.state.app.settings_dark_start,alt:""},null,8,h)))),128))]),(0,s._)("p",b,"Бренда: "+(0,n.zw)(i.product.cfs.brand),1)]),(0,s._)("div",f,[i.product.sale_price?((0,s.wg)(),(0,s.iD)("p",k,(0,n.zw)(i.product.sale_price)+" ₽ ",1)):(0,s.kq)("v-if",!0),(0,s._)("p",{class:(0,n.C_)(["first-section-description__price",{"first-section-description__price_has-sale":i.product.sale_price}])},(0,n.zw)(i.product.regular_price)+" ₽ ",3)]),(0,s._)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.product.cfs.diginities,((e,t)=>((0,s.wg)(),(0,s.j4)(y,{key:t,class:"first-section-description-diginties__item",lineWidth:100,title:e.title,text:e.text},null,8,["title","text"])))),128))]),(0,s.Wm)(D,{onProductAdd:a.productAdd,text:"Добавить",productId:i.product.id},null,8,["onProductAdd","productId"])])])])}],["__scopeId","data-v-7909c17d"]]);var $=i(3499);const M={class:"second-section"},I={class:"second-section-container container"},Z={class:"second-section-description"},C={class:"second-section__title"},A={class:"second-section-grid"},q={class:"second-section-left"},H={key:2,class:"second-section-left__no-reviews"},L={class:"second-section-right"};var j=i(9963);const W=e=>((0,s.dD)("data-v-6c14f53a"),e=e(),(0,s.Cn)(),e),Y={class:"add-review-dialog-container"},z={class:"product-review__rate"},K=["onMouseover","src"],O=W((()=>(0,s._)("input",{placeholder:"Заголовок",name:"title",type:"text",class:"input-text add-review-dialog__title"},null,-1))),V=W((()=>(0,s._)("textarea",{name:"review",class:"text-area add-review-dialog__textarea"},null,-1))),E=W((()=>(0,s._)("button",{type:"submit",class:"button button_around add-review-dialog__button"},"Отправить",-1))),N={key:0,class:"pleloader-box"},B=["src"],T={computed:{inRate(){return 5-this.rate}},props:{isAddReviewDialogShow:{type:Boolean,required:!0},review:{type:Object,required:!0}},data:()=>({images:[],isPreloaderEnabled:!1,rate:0,index:1}),methods:{async addReview(e){let t=new FormData(e.target);t.append("product_id",this.$route.params.id),t.append("reviewer","someone"),t.append("reviewer_email","someone@example.com"),t.append("images",this.images),t.append("rating",this.index),this.isPreloaderEnabled=!0;let i=await a.Z.post("products/reviews",t);this.isPreloaderEnabled=!1,"Created"==i.statusText&&(this.$emit("update:isAddReviewDialogShow",!1),this.$emit("update:review",i.data))},mouseEnter(e,t){let i=e.target.parentElement.children;for(let e=0;e<=t;e++)i[e].src=this.$store.state.app.settings_light_start;this.index=t+1,console.log("index: "+this.index),console.log(i.length);for(let e=t+1;e<i.length;e++)i[e].src=this.$store.state.app.settings_dark_start}}},U=(0,P.Z)(T,[["render",function(e,t,i,r,o,a){const n=(0,s.up)("file-input"),d=(0,s.up)("modal-window");return(0,s.wg)(),(0,s.iD)("div",Y,[(0,s.Wm)(d,{"onUpdate:isDialogShow":t[2]||(t[2]=t=>e.$emit("update:isAddReviewDialogShow",t)),isDialogShow:i.isAddReviewDialogShow},{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:t[1]||(t[1]=(0,j.iM)(((...e)=>a.addReview&&a.addReview(...e)),["prevent"])),class:"add-review-dialog"},[(0,s._)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.inRate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{class:"add-review-dialog__image",onMouseover:e=>a.mouseEnter(e,i),key:i,src:e.$store.state.app.settings_dark_start,alt:""},null,40,K)))),128))]),O,V,(0,s.Wm)(n,{isMultiple:!0,images:o.images,"onUpdate:images":t[0]||(t[0]=e=>o.images=e),name:"images"},null,8,["images"]),E,(0,s.Wm)(j.uT,{name:"preloader"},{default:(0,s.w5)((()=>[o.isPreloaderEnabled?((0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("img",{class:"pleloader-box__image",src:e.$store.state.app.settings_preloader_icon,alt:"preloader-icon"},null,8,B)])):(0,s.kq)("v-if",!0)])),_:1})],32)])),_:1},8,["isDialogShow"])])}],["__scopeId","data-v-6c14f53a"]]),F={class:"product-review"},Q={class:"product-review__rate"},G=["src"],J=["src"],X={class:"product-review__title"},ee=["innerHTML"],te={class:"product-review-chosen-files"},ie=["onClick"],se=["src","alt"];var re=i(1119),oe=i(9228);const ae=e=>((0,s.dD)("data-v-01b7b6f2"),e=e(),(0,s.Cn)(),e),ne={class:"slider-images-box"},de=["src"],ce={ref:"swiper-container",class:"swiper-container"},le={class:"swiper-wrapper"},pe=["src","alt"],ue=["src"],ge=[ae((()=>(0,s._)("div",{class:"close-button__line close-button__line_1"},null,-1))),ae((()=>(0,s._)("div",{class:"close-button__line close-button__line_2"},null,-1)))],_e={mixins:[re.Z],computed:{imagesCount(){return this.images.length},imagesMoreOne(){return this.imagesCount>1}},props:{isSliderShow:{type:Boolean,required:!0},images:{type:[Array,Object],required:!0}},mounted(){this.initializeSwiper()},methods:{initializeSwiper(){this.swiper=new oe.Z(this.$refs["swiper-container"],{loop:!0,slidesPerView:1})}}},we=(0,P.Z)(_e,[["render",function(e,t,i,r,o,a){return(0,s.wg)(),(0,s.iD)("div",ne,[(0,s.wy)((0,s._)("div",{onClick:t[4]||(t[4]=t=>e.$emit("update:isSliderShow",!1)),class:"slider-images"},[a.imagesMoreOne?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"slider-images__button",onClick:t[0]||(t[0]=(0,j.iM)(((...t)=>e.swiperPrev&&e.swiperPrev(...t)),["stop"]))},[(0,s._)("img",{src:e.$store.state.app.settings_slider_icon_left,alt:""},null,8,de)])):(0,s.kq)("v-if",!0),(0,s._)("div",ce,[(0,s._)("div",le,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.images,((e,i)=>((0,s.wg)(),(0,s.iD)("div",{key:i,class:"swiper-slide"},[(0,s._)("img",{onClick:t[1]||(t[1]=(0,j.iM)((()=>{}),["stop"])),class:"slider-images__image",src:e.path,alt:e.name},null,8,pe)])))),128))])],512),a.imagesMoreOne?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"slider-images__button",onClick:t[2]||(t[2]=(0,j.iM)(((...t)=>e.swiperNext&&e.swiperNext(...t)),["stop"]))},[(0,s._)("img",{src:e.$store.state.app.settings_slider_icon_right,alt:""},null,8,ue)])):(0,s.kq)("v-if",!0),(0,s._)("button",{onClick:t[3]||(t[3]=t=>e.$emit("update:isSliderShow",!1)),class:"close-button"},ge)],512),[[j.F8,i.isSliderShow]])])}],["__scopeId","data-v-01b7b6f2"]]),ve={mixins:[D.Z,re.Z],data:()=>({selectedImage:{},isSliderShow:!1}),computed:{imagesCount(){return this.images.length},imagesMoreOne(){return this.imagesCount>1}},props:{content:{type:String,default:'<p class="product-review-content-title">Привет, это отзыв</p><p>Привет, это текст отзыва</p>'},title:{type:String,default:"Отзыв"},images:{type:Object,default:()=>[]}},components:{Library:we}},me=(0,P.Z)(ve,[["render",function(e,t,i,r,o,a){const d=(0,s.up)("Library");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",F,[(0,s._)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.rate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{key:i,src:e.$store.state.app.settings_light_start,alt:""},null,8,G)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.inRate,((t,i)=>((0,s.wg)(),(0,s.iD)("img",{key:i,src:e.$store.state.app.settings_dark_start,alt:""},null,8,J)))),128))]),(0,s._)("p",X,(0,n.zw)(i.title),1),(0,s._)("div",{class:"product-review__content",innerHTML:i.content},null,8,ee),(0,s._)("div",te,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.images,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"product-review-chosen-files-file"},[(0,s._)("button",{onClick:t=>(o.selectedImage=e,o.isSliderShow=!0)},[(0,s._)("img",{class:"product-review-chosen-files-file__image",src:e.path,alt:e.name},null,8,se)],8,ie)])))),128))])]),(0,s.Wm)(d,{images:i.images,isSliderShow:o.isSliderShow,"onUpdate:isSliderShow":t[0]||(t[0]=e=>o.isSliderShow=e)},null,8,["images","isSliderShow"]),(0,s.kq)(' <div class="slider-images-box">\n        <div @click="isSliderShow = false" v-show="isSliderShow" class="slider-images">\n            <button v-if="imagesMoreOne" class="slider-images__button" @click.stop="swiperPrev">\n                <img :src="$store.state.app.settings_slider_icon_left" alt="">\n            </button>\n            <div ref="swiper-container" class="swiper-container">\n                <div class="swiper-wrapper">\n                    <div v-for="(image, index) in images" :key="index" class="swiper-slide">\n                        <img @click.stop class="slider-images__image" :src="image.path" :alt="image.name">\n                    </div>\n                </div>\n            </div>\n            <button v-if="imagesMoreOne" class="slider-images__button " @click.stop="swiperNext">\n                <img :src="$store.state.app.settings_slider_icon_right" alt="">\n            </button>\n            <button @click="isSliderShow = false" class="close-button">\n                <div class="close-button__line close-button__line_1"></div>\n                <div class="close-button__line close-button__line_2"></div>\n            </button>\n        </div>\n    </div> ')],64)}],["__scopeId","data-v-4e7532d8"]]);var he=i(4305);const be={props:{productProperties:{type:Object,required:!0}},data:()=>({propsHeight:"340px",isShowProps:!1,currentVisibleMenu:{label:"Свойства товара",value:"props"},buttonsInMenu:[{label:"Свойства товара",value:"props"},{label:"Отзывы о товаре",value:"reviews"}],reviewsPage:1,productReviews:[],isAddReviewDialogShow:!1,review:{}}),computed:{productIdComputed(){return this.$route.params.id}},watch:{reviewsPage(){this.getProductReviews()},productIdComputed(){this.getProductReviews()},review(){this.productReviews.unshift(this.review)}},components:{QuestionBox:he.Z,ProductReview:me,AddReviewDialog:U},methods:{jivoOpen(){jivo_api.open()},async getProductReviews(){let e=(await a.Z.get("products/reviews",{params:{product:this.productIdComputed,per_page:8,page:this.reviewsPage}})).data;console.log(e),this.productReviews.push(...e)}},mounted(){this.getProductReviews()}},fe=(0,P.Z)(be,[["render",function(e,t,i,r,o,a){const d=(0,s.up)("product-prop"),c=(0,s.up)("props-slider"),l=(0,s.up)("ProductReview"),p=(0,s.up)("product-review-box"),u=(0,s.up)("my-menu"),g=(0,s.up)("QuestionBox"),_=(0,s.up)("AddReviewDialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("section",M,[(0,s._)("div",I,[(0,s._)("div",Z,[(0,s._)("p",C,(0,n.zw)(o.currentVisibleMenu.label),1),"reviews"===o.currentVisibleMenu.value?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>o.isAddReviewDialogShow=!o.isAddReviewDialogShow),class:"button button_around second-section__button"},"Добавить отзыв")):(0,s.kq)("v-if",!0)]),(0,s._)("div",A,[(0,s._)("div",q,["props"===o.currentVisibleMenu.value?((0,s.wg)(),(0,s.j4)(c,{key:0,isShow:o.isShowProps,"onUpdate:isShow":t[1]||(t[1]=()=>{o.propsHeight="100%",o.isShowProps=!o.isShowProps}),height:o.propsHeight,class:"second-section-left-props"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.productProperties,((e,t)=>((0,s.wg)(),(0,s.j4)(d,{key:t,class:"second-sections-left-props__item",title:e.key,text:e.value},null,8,["title","text"])))),128))])),_:1},8,["isShow","height"])):(0,s.kq)("v-if",!0),o.productReviews.length>0&&"reviews"===o.currentVisibleMenu.value?((0,s.wg)(),(0,s.j4)(p,{key:1,onPaginate:t[2]||(t[2]=e=>o.reviewsPage+=1)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.productReviews,(e=>((0,s.wg)(),(0,s.j4)(l,{title:e.title,images:e.images,content:e.review,key:"productReview.id",rate:e.rating},null,8,["title","images","content","rate"])))),128))])),_:1})):(0,s.kq)("v-if",!0),0==o.productReviews.length&&"reviews"===o.currentVisibleMenu.value?((0,s.wg)(),(0,s.iD)("p",H," > Отзывов нет, будь первым ")):(0,s.kq)("v-if",!0)]),(0,s._)("div",L,[(0,s.Wm)(u,{buttons:o.buttonsInMenu,currentValue:o.currentVisibleMenu,"onUpdate:currentValue":t[3]||(t[3]=e=>o.currentVisibleMenu=e)},null,8,["buttons","currentValue"]),(0,s.Wm)(g,{onAction:a.jivoOpen},null,8,["onAction"])])])])]),(0,s.Wm)(_,{review:o.review,"onUpdate:review":t[4]||(t[4]=e=>o.review=e),"onUpdate:isAddReviewDialogShow":t[5]||(t[5]=e=>o.isAddReviewDialogShow=e),isAddReviewDialogShow:o.isAddReviewDialogShow},null,8,["review","isAddReviewDialogShow"])],64)}],["__scopeId","data-v-dda57cba"]]),ke={class:"third-section"},Se={class:"third-section-container container"},ye={class:"third-section-title-box"},De={class:"button button_around third-section-title-box__button"},xe={key:0,class:"third-section-alike-products"};var Pe=i(7722);const Re={props:{categories:{type:Array,required:!0}},data(){return{products:[],isProductsLoaded:!1,productId:this.$route.params.id}},computed:{firstFourProducts(){return this.products.slice(0,4)}},components:{Product:Pe.Z,AddReviewDialog:U},async beforeCreate(){let e=this.categories.sort(((e,t)=>e.id-t.id<0?1:-1)),t=[];for(let i=0;i<this.categories.length;i++){let s=(await a.Z.get("products",{params:{category:e[i].id}})).data;if(t.forEach((e=>{s=s.filter((t=>t.id!==e.id))})),t.push(...s),t=t.filter((e=>e.id!=this.productId)),t.length>=4)break}this.products=t,this.isProductsLoaded=!0}},$e={props:{isDataLoaded:{type:Boolean},isAppLoaded:{type:Boolean}},data:()=>({product:{},isProductLoaded:!1}),computed:{productId(){return this.$route.params.id}},async beforeCreate(){let e=(await o.Z.get("pages/253")).data;this.$store.state.page=e.cfs,await this.getProduct(),0==this.isDataLoaded&&this.$emit("update:isDataLoaded",!this.isDataLoaded)},watch:{async productId(){await this.getProduct(),this.$router.push({hash:"#first-section"})}},methods:{async getProduct(){this.isProductLoaded=!1;let e=await(0,$.Z)({url:`products/${this.productId}`},!1);this.product=e.data,console.log(e.data),this.isProductLoaded=!0}},components:{FirstSection:R,SecondSection:fe,ThirdSection:(0,P.Z)(Re,[["render",function(e,t,i,r,o,a){const d=(0,s.up)("header-box"),c=(0,s.up)("Product");return(0,s.wg)(),(0,s.iD)("section",ke,[(0,s._)("div",Se,[(0,s._)("div",ye,[(0,s.Wm)(d,{class:"third-section-title-box__header",title:e.$store.state.page.alike_products_title},null,8,["title"]),(0,s._)("button",De,(0,n.zw)(e.$store.state.page.alike_products_button_text),1)]),o.isProductsLoaded?((0,s.wg)(),(0,s.iD)("div",xe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.firstFourProducts,((e,t)=>((0,s.wg)(),(0,s.j4)(c,{key:t,rate:Math.floor(Number(e.average_rating)),title:e.name,sale_price:e.sale_price,price:e.regular_price,productId:e.id,imageSrc:e.images[0].src},null,8,["rate","title","sale_price","price","productId","imageSrc"])))),128))])):(0,s.kq)("v-if",!0)])])}],["__scopeId","data-v-3acd919e"]])}},Me=(0,P.Z)($e,[["render",function(e,t,i,o,a,n){const d=(0,s.up)("FirstSection"),c=(0,s.up)("SecondSection"),l=(0,s.up)("ThirdSection");return(0,s.wg)(),(0,s.iD)("div",null,[i.isDataLoaded&&a.isProductLoaded&&i.isAppLoaded?((0,s.wg)(),(0,s.iD)("main",r,[(0,s.Wm)(d,{id:"first-section",rate:Math.floor(Number(a.product.average_rating)),product:a.product},null,8,["rate","product"]),(0,s.Wm)(c,{productProperties:a.product.cfs.props},null,8,["productProperties"]),(0,s.Wm)(l,{categories:a.product.categories},null,8,["categories"])])):(0,s.kq)("v-if",!0)])}],["__scopeId","data-v-21263f9e"]])},3170:(e,t,i)=>{i.d(t,{Z:()=>s});const s={props:{rate:{type:Number}},computed:{inRate(){return 5-this.rate}}}},1119:(e,t,i)=>{i.d(t,{Z:()=>s});const s={data:()=>({swiper:{}}),methods:{swiperPrev(){this.swiper.slidePrev()},swiperNext(){this.swiper.slideNext()}}}}}]);