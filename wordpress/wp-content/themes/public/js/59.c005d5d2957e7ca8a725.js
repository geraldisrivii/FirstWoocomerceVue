"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[59],{7722:(t,e,s)=>{s.d(e,{Z:()=>m});var a=s(6252),r=s(3577);const o=["src"],i={class:"product-description-box"},c={class:"product-description"},n={class:"product-description__title"},d={class:"product-description__price-box"},l={key:0,class:"product-description__sale-price"},p={class:"product-description-rate"},u=["src"],g=["src"],_={mixins:[s(3170).Z],props:{imageSrc:{type:String},title:{type:String},price:{type:String},productId:{type:Number,default:250},sale_price:{type:[Number,null],required:!0}}},m=(0,s(3744).Z)(_,[["render",function(t,e,s,_,m,h){return(0,a.wg)(),(0,a.iD)("button",{onClick:e[0]||(e[0]=e=>t.$router.push({name:"product",params:{id:s.productId}},{absolute:!0})),class:"product"},[(0,a._)("img",{class:"product__image",src:s.imageSrc,alt:"product-image"},null,8,o),(0,a._)("div",i,[(0,a._)("div",c,[(0,a._)("p",n,(0,r.zw)(s.title),1),(0,a._)("div",d,[(0,a._)("p",{class:(0,r.C_)(["product-description__price",{"product-description__price_has-sale":s.sale_price}])},(0,r.zw)(s.price)+" ₽ ",3),s.sale_price?((0,a.wg)(),(0,a.iD)("p",l,(0,r.zw)(s.sale_price)+" ₽ ",1)):(0,a.kq)("v-if",!0)])]),(0,a._)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.rate,((e,s)=>((0,a.wg)(),(0,a.iD)("img",{key:s,src:t.$store.state.app.settings_light_start,alt:""},null,8,u)))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.inRate,((e,s)=>((0,a.wg)(),(0,a.iD)("img",{key:s,src:t.$store.state.app.settings_dark_start,alt:""},null,8,g)))),128))])])])}],["__scopeId","data-v-35e52518"]])},7059:(t,e,s)=>{s.r(e),s.d(e,{default:()=>N});var a=s(6252);const r={key:0};var o=s(3577);const i={class:"container first-section-container"},c={class:"first-section-container-grid"},n={class:"first-section-container-left-section"},d={class:"first-section-container__title"},l={class:"first-section-description"},p={class:"first-section-description__text"},u={class:"button button_around button_gray first-section-description__button"},g={class:"filter-box first-section-filter-box"};var _=s(894);const m={components:{},computed:{...(0,_.rn)({categories:t=>t.katalog.categories,selectedCategory:t=>t.katalog.selectedCategory,sortOptions:t=>t.katalog.sortOptions,selectedSortOption:t=>t.katalog.selectedSortOption,searchText:t=>t.katalog.searchText})},methods:{...(0,_.nv)({getCategories:"katalog/getCategories"})},async mounted(){await this.getCategories()}};var h=s(3744);const b=(0,h.Z)(m,[["render",function(t,e,s,r,_,m){const h=(0,a.up)("my-select"),b=(0,a.up)("my-search");return(0,a.wg)(),(0,a.iD)("section",{style:(0,o.j5)({background:`url(${t.$store.state.page.first_section_background}) center / cover no-repeat`}),class:"first-section"},[(0,a._)("div",i,[(0,a._)("div",c,[(0,a._)("div",n,[(0,a._)("h1",d,(0,o.zw)(t.$store.state.page.first_section_title),1),(0,a._)("div",l,[(0,a._)("p",p,(0,o.zw)(t.$store.state.page.first_section_text),1)])]),(0,a._)("button",u,(0,o.zw)(t.$store.state.page.first_section_button_text),1)]),(0,a._)("div",g,[(0,a.Wm)(h,{class:"first-section-filter-box__category","onUpdate:currentOption":e[0]||(e[0]=e=>t.$emit("update:selectedCategory",e)),currentOption:t.selectedCategory,options:t.categories,title:"Категория"},null,8,["currentOption","options"]),(0,a.Wm)(b,{class:"first-section-filter-box__search",text:t.searchText,"onUpdate:text":e[1]||(e[1]=e=>t.$emit("update:searchText",e))},null,8,["text"]),(0,a.Wm)(h,{class:"first-section-filter-box__sort","onUpdate:currentOption":e[2]||(e[2]=e=>t.$emit("update:selectedSortOption",e)),currentOption:t.selectedSortOption,options:t.sortOptions,title:"Сортировка"},null,8,["currentOption","options"])])])],4)}],["__scopeId","data-v-80c140e6"]]);var f=s(7257),P=s(3499);const S={class:"second-section container"},k={class:"products-box second-section__products"},y={key:0,class:"spesials-box second-section__spesials"},v={class:"products-box second-section__products"},w={class:"paginate-box"};var x=s(7722);const C={class:"paginate-buttons"},O=["disabled"],$=["src"],D={class:"paginate-buttons-around"},T={class:"paginate-buttons-around__current"},Z=["disabled"],q=["src"],I={props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}}},L=(0,h.Z)(I,[["render",function(t,e,s,r,i,c){return(0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("button",{class:"paginate-buttons_button",disabled:1===s.currentPage,onClick:e[0]||(e[0]=e=>t.$emit("update:currentPage",s.currentPage-1))},[(0,a._)("img",{src:t.$store.state.app.settings_paginate_button_left,alt:"paginate_button_left"},null,8,$)],8,O),(0,a._)("div",D,[(0,a._)("p",T,(0,o.zw)(s.currentPage),1)]),(0,a._)("button",{class:"paginate-buttons_button",disabled:s.currentPage===s.totalPages,onClick:e[1]||(e[1]=e=>t.$emit("update:currentPage",s.currentPage+1))},[(0,a._)("img",{src:t.$store.state.app.settings_paginate_button_right,alt:"paginate_button_right"},null,8,q)],8,Z)])}],["__scopeId","data-v-268d614c"]]),U={components:{Product:x.Z,PaginatesButtons:L},data:()=>({specials:[],isSpecialsLoaded:!1}),props:{products:{type:Array,required:!0}},computed:{oneHalfProducts(){return this.products.slice(0,8)},twoHalfProducts(){return this.products.slice(8,16)}},async beforeCreate(){let t=(await f.Z.get("specials")).data;this.specials=t,this.isSpecialsLoaded=!0}},H={components:{FirstSection:b,SecondSection:(0,h.Z)(U,[["render",function(t,e,s,r,o,i){const c=(0,a.up)("Product"),n=(0,a.up)("special-item"),d=(0,a.up)("PaginatesButtons");return(0,a.wg)(),(0,a.iD)("section",S,[(0,a._)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.oneHalfProducts,(t=>((0,a.wg)(),(0,a.j4)(c,{sale_price:t.sale_price,class:"products-box__item",key:t.id,price:t.regular_price,imageSrc:t.images[0].src,productId:t.id,rate:Math.floor(Number(t.average_rating)),title:t.name},null,8,["sale_price","price","imageSrc","productId","rate","title"])))),128))]),o.isSpecialsLoaded?((0,a.wg)(),(0,a.iD)("div",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.specials,(t=>((0,a.wg)(),(0,a.j4)(n,{title:t.title.rendered,text:t.content.rendered,imageSrc:t.cfs.image},null,8,["title","text","imageSrc"])))),256))])):(0,a.kq)("v-if",!0),(0,a._)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.twoHalfProducts,(t=>((0,a.wg)(),(0,a.j4)(c,{sale_price:t.sale_price,class:"products-box__item",key:t.id,price:t.regular_price,imageSrc:t.images[0].src,productId:t.id,rate:Math.floor(Number(t.average_rating)),title:t.name},null,8,["sale_price","price","imageSrc","productId","rate","title"])))),128))]),(0,a._)("div",w,[(0,a.Wm)(d,{totalPages:t.$store.state.katalog.totalPages,currentPage:t.$store.state.katalog.currentPage,"onUpdate:currentPage":e[0]||(e[0]=e=>t.$store.commit("katalog/setCurrentPage",e))},null,8,["totalPages","currentPage"])])])}],["__scopeId","data-v-53a99390"]])},data:()=>({products:[],isProductsLoaded:!1}),props:{isDataLoaded:{type:Boolean}},async beforeCreate(){let t=(await f.Z.get("pages/164")).data;this.$store.state.page=t.cfs,0==this.isDataLoaded&&this.$emit("update:isDataLoaded",!this.isDataLoaded)},computed:{...(0,_.rn)({selectedCategory:t=>t.katalog.selectedCategory,selectedSortOption:t=>t.katalog.selectedSortOption,searchText:t=>t.katalog.searchText,currentPage:t=>t.katalog.currentPage}),...(0,_.Se)({requestParams:"katalog/requestParams"})},mounted(){this.getProducts()},watch:{searchText(){this.getProducts()},selectedCategory(){this.getProducts(),this.$router.push({hash:"#second-section"})},selectedSortOption(){this.getProducts(),this.$router.push({hash:"#second-section"})},currentPage(){this.getProducts(),this.$router.push({hash:"#second-section"})}},methods:{async getProducts(){let t=await(0,P.Z)({url:"products?",method:"GET",params:this.requestParams},!1);this.$store.commit("katalog/setTotalPages",Number(t.headers.get("X-WP-TotalPages")));let e=t.data;console.log(e),this.products=e,this.isProductsLoaded=!0},...(0,_.OI)({setCategories:"katalog/setCategories",setSelectedCategory:"katalog/setSelectedCategory",setSortOptions:"katalog/setSortOptions",setSelectedSortOption:"katalog/setSelectedSortOption",setSearchText:"katalog/setSearchText"})}},N=(0,h.Z)(H,[["render",function(t,e,s,o,i,c){const n=(0,a.up)("FirstSection"),d=(0,a.up)("SecondSection");return s.isDataLoaded?((0,a.wg)(),(0,a.iD)("main",r,[(0,a.Wm)(n,{"onUpdate:selectedCategory":t.setSelectedCategory,"onUpdate:selectedSortOption":t.setSelectedSortOption,"onUpdate:searchText":t.setSearchText},null,8,["onUpdate:selectedCategory","onUpdate:selectedSortOption","onUpdate:searchText"]),i.isProductsLoaded?((0,a.wg)(),(0,a.j4)(d,{key:0,id:"second-section",products:i.products},null,8,["products"])):(0,a.kq)("v-if",!0)])):(0,a.kq)("v-if",!0)}]])},3170:(t,e,s)=>{s.d(e,{Z:()=>a});const a={props:{rate:{type:Number}},computed:{inRate(){return 5-this.rate}}}}}]);